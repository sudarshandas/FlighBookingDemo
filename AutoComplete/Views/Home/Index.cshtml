@model AutoComplete.Models.OnewayDomesticSearchQuery.RootObject
@{
    Layout = null;
    
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Homepage</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

    
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


    <script>

        $(document).ready(function () {



            $("#City").autocomplete({

                source: function (request,response) {

                    $.ajax({

                        url: "/Home/GetRecord",

                        type: "POST",

                        dataType: "json",

                        data: {prefix : request.term },

                        success: function (data) {

                            response($.map(data, function (item) {
                                return { label: item.City, value: item.City };

                            }))

                        }

                    })

                },

            });
            $('#City2').autocomplete({
                source: function (request, response) {

                    $.ajax({

                        url: "/Home/GetRecord",

                        type: "POST",

                        dataType: "json",

                        data: { prefix: request.term },

                        success: function (data) {

                            response($.map(data, function (item) {
                                return { label: item.City, value: item.City };

                            }))

                        }

                    })

                },

            });


        });
        
    </script>
 
</head>
<body>
    @using (Html.BeginForm("SearchResults", "Home", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        <div class="form-group">
            Form
            
            @Html.EditorFor(model => model.searchQuery.routeInfos[0].fromCityOrAirport.code, "", new { @class = "text-danger" })
            
            Destination
            @Html.EditorFor(model => model.searchQuery.routeInfos[0].toCityOrAirport.code, new { htmlAttributes = new { @class = "form-control" } })
            Depature Date
            @Html.TextBoxFor(model => model.searchQuery.routeInfos[0].travelDate, new { @type="date",  @class = "form-control datepicker" })
            

        </div>
        <br />
        <div>
            Adult (12+ Yrs)
            @*@Html.DropDownList("ADULT", null, htmlAttributes: new { @class = "form-control" })*@
            @Html.DropDownListFor(model => model.searchQuery.paxInfo.ADULT, Enumerable.Range(1, 9).Select(i => new SelectListItem { Text = i.ToString(), Value = i.ToString() }))
            @*@Html.ValidationMessageFor(model => model.searchQuery.paxInfo.ADULT,"", new { @class = "text-danger" })*@
            
            Children (2-12+ Yrs)
            @Html.DropDownListFor(model => model.searchQuery.paxInfo.CHILD, Enumerable.Range(0, 9).Select(i => new SelectListItem { Text = i.ToString(), Value = i.ToString() }))
            
            Infant(s) (below 2 Yrs)
            @Html.DropDownListFor(model => model.searchQuery.paxInfo.INFANT, Enumerable.Range(0, 9).Select(i => new SelectListItem { Text = i.ToString(), Value = i.ToString() }))
            
            Travel Class
            @Html.DropDownListFor(model => model.searchQuery.cabinClass, ViewBag.TravelClass as SelectList)
            
            <span>Direct<span>@Html.CheckBoxFor(m =>m.searchQuery.searchModifiers.isDirectFlight,true)</span>  </span>
            <div class="form-group">
                <input type="submit" id="search" value="SEARCH" />
            </div>
            
        </div>
      
    }
    
</body>
</html>
